<div class="container">
    <h2>Dashboard</h2>
    <h5>Hello <strong id="username" style="color: red">{{ user.username }}</strong>!</h5>
    <h5>you are logged in.</h5>
    <h5><a href="/logout">logout</a></h5>
</div>

<div id="graph1" style="height: 100%"></div>
<div id="graph2" style="height: 100%"></div>
<div id="graph3" style="height: 100%"></div>
<div id="graph4" style="height: 100%"></div>


<script>
    var id = $("#username").text()
    console.log(id)
</script>

<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/echarts.min.js"></script>

<script type="text/javascript">
    $.ajax({
       url: "/api/dashboard/getCountByStatus"
     }).done(function(result) {
       var dom = document.getElementById("graph1");
       var myChart = echarts.init(dom);
       var app = {};
       var option = {
           title : {
               text: 'Task Counts Per Status',
               x:'center'
           },
           tooltip : {
                trigger: 'item',
                formatter: "{a} <br/>{b} : {c} ({d}%)"
           },
           series : [
               {
                   name: 'Status',
                   type: 'pie',
                   radius : '55%',
                   center: ['50%', '60%'],
                   data: result,
                   itemStyle: {
                       emphasis: {
                           shadowBlur: 10,
                           shadowOffsetX: 0,
                           shadowColor: 'rgba(0, 0, 0, 0.5)'
                       }
                   }
               }
           ]
       };
       if (option && typeof option === "object") {
           myChart.setOption(option, true);
       }
     })
</script>
